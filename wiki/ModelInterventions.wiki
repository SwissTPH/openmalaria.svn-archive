#summary Intervention deployment methods and descriptions

= Interventions =

An intervention is a method used to bring about a _change_ in the state of the simulation (eg to reduce transmission). Some of these are realistic strategies (e.g. vaccine treatment), some of these unrealistic (e.g. "uninfect vectors"), and some don't concern themselves with transmission (e.g. cohort selection). Note that existing malaria-control measures such as the initial state of the health-system are not considered an intervention since they form the initial state rather than change it.


== Descriptions ==

Documentation of interventions can be found on these pages:

  * [ModelIntervHuman human-stage interventions]
  * [ModelIntervVector mosquito-stage interventions]
  * [ModelIntervMisc special/pseudo interventions]


== Deployment ==

There are two generic methods of intervention deployment in openmalaria:

 * *Timed* mass-deployment campaigns. At a particular time point, this deployment method targets either the whole population or at a restricted age-range. They also have a coverage parameter. ([http://code.google.com/p/openmalaria/wiki/XmlScenario?ts=1277108255&updated=XmlScenario#Timed:_timed Configuration])
 * Age-based *continuous* deployment. Within the simulation's intervention period, these deploy interventions to individuals reaching a target age, given that they are determined to be within the coverage. ([XmlScenario#Continuous:_continuous Configuration])

In both cases, the coverage parameter describes the probability of each individual with the required age receiving the intervention, independently of interventions received previously by that individual.

Deployment of vaccines uses these basic methods, but is a special case. Each human "remembers" how many vaccine doses they have received (through continuous and campaign deployment combined). Given a continuous vaccination schedule for vaccinating at ages `a_0`, `a_1`, ..., each individual, at age `a_n` is vaccinated (through the continuous vaccination program) if and only if they are included within the vaccine coverage, and they have had `n - 1` previous vaccinations. This is intended to account for individuals dropping out of the vaccination program and not returning, and those vaccinated through a mass campaign not also getting an age-based vaccination at (roughly) the same time.


== Configuration ==

Interventions are configured within the `interventions` element in the [ScenarioDesign scenario XML document]. A sample element:

{{{
<interventions name="Full Set">
  <descriptions>
    <MDADescription ... />
    <vaccineDescription ... />
    <iptiDescription ... />
    <anopheles mosquito="gambiae_ss">
      <ITNDescription ... />
      <IRSDescription ... />
      <VADescription ... />
    </anopheles>
  </descriptions>
  <continuous>
    ...
  </continuous>
  <timed>
    <intervention time="1">
      ...
    </intervention>
    ...
  </timed>
</interventions>
}}}

Note that the `descriptions` element is the only required element.

=== Continuous descriptions ===

All continuous deployments are described by elements of type `ageSpecific`; for example, three vaccine doses at ages 1, 2 and 3 months:

{{{
    <continuous>
      <vaccine coverage="0.95" targetAgeYrs="0.0833"/>
      <vaccine coverage="0.95" targetAgeYrs="0.17"/>
      <vaccine coverage="0.95" targetAgeYrs="0.25"/>
    </continuous>
}}}
Attributes this can include:

|| name || type || description ||
|| `coverage` || floating-point || Proportion of eligible candidates actually receiving the intervention (range [0-1]) ||
|| `targetAgeYrs` || floating-point || Age at which individuals are eligible for this intervention in years ||
|| `cohort` || boolean || Restrict distribution to the current [Monitoring#Cohort-mode cohort] if true ||
|| `begin` || integer || The time-step of the intervention period at which this intervention becomes active (default: 0) ||
|| `end` || integer || The time-step of the intervention period at which this intervention becomes inactive (default: 2147483647) ||

==== Order ====

The XML elements describing continuous intervention deployment must appear in the following order:

 # all `vaccine` elements
 # all `ITN` elements
 # all `ipti` elements
 # all `cohort` elements

=== Timed descriptions ===

Many timed interventions also use a standard type of description for *mass deployment*, although several timed interventions use a different description. An example:

{{{
      <intervention time="13">
        <vaccinate coverage="0.95"/>
      </intervention>
}}}

Attributes:

|| name || type || description ||
|| coverage || floating-point || Proportion of eligible candidates actually receiving the intervention (range [0-1]) ||
|| minAge || floating-point || Minimum age at which humans are considered eligible in years (defaults to 0) ||
|| maxAge || floating-point || Maximum age at which humans are considered eligible in years (defaults to 100) ||
|| cohort || boolean || Restrict distribution to the current [Monitoring#Cohort-mode cohort] if true (defaults to false) ||
|| cumulativeWithMaxAge || int (optional) || If supplied, the cumulative coverage deployment mode (see below) is used according to the "max intervention age" parameter given by this attribute (units: time steps). ||

==== Order ====

Where multiple interventions occur at the same time-point, they must appear in the XML in the following order:

{{{
<intervention time="6">
  <changeHS> ... </changeHS>
  <changeEIR> ... </changeEIR>
  <importedInfectionsPerThousandHosts>0.01</importedInfectionsPerThousandHosts>
  <MDA coverage="0.6" ... />
  <vaccinate coverage="0.6" ... />
  <ITN coverage="0.6" ... />
  <IRS coverage="0.6" ... />
  <VectorAvailability coverage="0.6" ... />
  <ipti coverage="0.6" ... />
  <immuneSuppression coverage="0.6" ... />
  <insertR_0Case/>
  <uninfectVectors/>
  <larviciding> ... </larviciding>
  <cohort coverage="0.6" ... />
}}}

(Of course, any of these may be left out.)

==== Cumulative coverage deployment ====

Without this option, the intervention deployment simply targets the proportion of eligible humans described by the coverage parameter. With it, the number of protected humans are first counted and unprotected humans targeted such that the total number of eligible humans reaches the proportion described by coverage.

This option was added in r1595 (to be released as version 25). It is available for the vaccine, IPTi, ITN, IRS and VA interventions, and additionally cohort selection (special case where the "max intervention age" parameter doesn't do anything since humans are clearly either in the cohort or not).

Humans are considered protected by an intervention when the last time they received this intervention was less than "max intervention age" (cumulativeWithMaxAge attribute) timesteps ago.

Given that the existing proportion of humans protected, _p_, is less than the desired coverage level _c_, unprotected humans have chance [http://openmalaria.googlecode.com/svn/wiki/eqns/cum_deploy_cov.png] of receiving a new instance of the intervention (net/vaccine dose/house spraying etc.). This applies across all humans eligible for coverage (those within the given age range and within the cohort if applicable).