automatic schema translator

= Automatic schema version update =

If you use some scenarii working with an older schema version, you can update those with the schema translator. The translation may not work for some scenarii (if it detects an ambiguous situation, it will ask you to run again specifying the value of a certain flag, or deal with something manually).

The schema translator may be usable within [openmalariaTools]; alterantively it can be used as below.

== Build and Install ==
  
Building the schema translator from sources:

  # Check if JDK of at least version 5 is installed. 
     * If it's not the case, then you can download the installer [http://java.sun.com/javase/downloads/widget/jdk6.jsp, here]. 
     * On Ubuntu linux you can install JDK with apt. Install the `sun-java6-jdk` (or `java-gcj-compat-dev`) package.
  # Find the sources. 
     * If you are already working with the openmalaria sources, then you can find the schema translator source files in `util/SchemaTranslator`
     * Grab from the repository:
     {{{svn checkout http://openmalaria.googlecode.com/svn/trunk/util/SchemaTranslator SchemaTranslator}}}
  # Build the sources.
     * in the sources folder do {{{javac SchemaTranslator.java}}}

== Usage ==

You need to put the scenarios to be converted in the scenarios folder and then start the program from terminal or command line with the command {{{java SchemaTranslator}}} or if you want to start the Schema Translator from another location then you have to use {{{java -classpath path_to_schematranslator_folder SchemaTranslator}}}. If everything is working fine, then you should find the updated scenarios in the folder translatedScenarios.

If you don't add any options, then the scenarios will be converted to the latest schema version.

== Options ==

(Note that this list may not always be up-to-date. You can see all options by running with --help.)

   * --required_version XX: The version number to update the scenarios to. By default, the latest schema version will be used.
   * --no-validation: The scenarios are converted and written without any validation against the schema
   * --no-translation: The scenarios are not written, but still converted for validation
   * --maxDensCorrection BOOL: Update 12->13 requires this sometimes: set true to include bug fix, false to explicitly exclude it.
   * --iptiSpOptionWithoutInterventions: For scenarios with iptiDescription but without interventions, assume usage of the IPTI model was (t) intended or (f) a mistake.

 