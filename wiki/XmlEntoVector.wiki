#summary XML scenario vector-model parameters

<wiki:toc max_depth="3" />

= Vector parameters =

The vector model allows simulation of any number of different vectors, each of which can have different interactions with hosts, where hosts may be humans or one of a few specified non-human populations (e.g. sprayed & unsprayed animals).

The vector element consists of a list of one `anopheles` sub-element for each vector taxon, followed by a list of zero or more `nonHumanHosts` sub-elements. Each has a name, which serves as an identifier for the Anopheles species or non-human-host category (for example, to match per-species vector intervention parameters specified elsewhere with the correct species).

== Mosquito parameters ==

Each anopheles elements has the following sub-elements: either `eir` or `monthlyEir`, `mosq`, and a list of zero or more `nonHumanHosts`.

=== Entomological Inoculation Rate ===

EIR can be specified either via 5 Fourier coefficients and a rotation factor (`eir` element) or via 12 monthly values plus an annual level (`monthlyEir` element). Exactly one of these elements must appear.

The user should be aware that the dynamic transmission modelled is not forced and often fluctuates to a greater or lesser extent (usually below the level input), particularly when close to the limit of sustainable transmission (e.g. with high case-management coverage). Running scenarios without interventions shows the dynamics of EIR and human infectiousness (the continuous output mode is convenient for viewing this).

==== EIR via Fourier coefficients ====

This is the older method (the only available method before schema version 22).

The `eir` element describes the Entomological Infection Rate for this mosquito species, which is used as a target when fitting the emergence rate of adult mosquitoes. The EIR is given via a [http://en.wikipedia.org/wiki/Fourier_series Fourier series] and a rotation offset; more accurately, the exposed EIR, in units of bites per day, is:

http://openmalaria.googlecode.com/svn/wiki/eqns/EIR_Fourier.png

<wiki:comment>
Above image rendered as latex from:
{{{ \Xi_t = \exp \left( a_0 + \sum_{n=1}^2 \left[ a_n \cos \left(n (w t - \theta) \right) + b_n \sin \left(n (w t - \theta) \right) \right] \right) }}}
(Use, for example, [http://sciencesoft.at/latex/?lang=en] with the AMS maths formula template.)

MathML version (not so nice and less compatible):
<wiki:gadget url="http://mathml-gadget.googlecode.com/svn/trunk/mathml-gadget.xml" border="0" up_content="eir_t = exp ( a_0 + sum_(n=1)^2 { a_n cos(n (w t - theta)) + b_n sin(n (w t - theta)) } )"/>

(Formula uses MathML. For IE, a [http://www.dessci.com/en/products/mathplayer/ plugin] is needed.)</wiki:comment>

Here, Ξ,,t,, is the number of innoculations per person per day, where `t` is the day of year (from 0 to 364), `w = 2π / 365`, `θ` is the `EIRRotateAngle` attribute and a,,0,, to a,,2,,, b,,1,, and b,,2,, are the corresponding attributes of the `eir` element.

If we introduce the function `f(t)` dependent on a,,n,, and b,,n,, for n≥1, we can reformulate Ξ,,t,, as

http://openmalaria.googlecode.com/svn/wiki/eqns/EIR_Fourier_f.png
<wiki:comment>
\begin{align*}
\Xi_t &= e^{a_0 + f(t)} \\
      &= e^{a_0} \cdot e^{f(t)}
\end{align*}
</wiki:comment>

and thus show that the annual EIR is scaled by [http://openmalaria.googlecode.com/svn/wiki/eqns/exp_a0.png]:

http://openmalaria.googlecode.com/svn/wiki/eqns/EIR_Fourier_annual.png
<wiki:comment>
\begin{align*}
\Xi &= \int_{t=0}^{365} e^{a_0} e^{f(t)} dt \\
    &= e^{a_0} \int_{t=0}^{365} e^{f(t)} dt
\end{align*}
</wiki:comment>

==== EIR via monthly values ====

As of schema version 22 this method of entering EIR was added to simplify entry of field data. Fourier coefficients are still used within the code (for smoothing), but are calculated internally.

The `monthlyEir` element requires one attribute: `annualEIR`, specifying the total annual EIR as infectious bites per person per year. It should have a sequence of 12 child elements, named `item`, specifying the EIR in terms of infectious bites per person per month, in the months of January through December. An (unrealistic) example:

{{{
        <monthlyEir annualEIR="20">
          <item>10</item>
          <item>1</item>
          <item>1</item>
          <item>1</item>
          <item>1</item>
          <item>1</item>
          <item>1</item>
          <item>1</item>
          <item>1</item>
          <item>1</item>
          <item>1</item>
          <item>1</item>
        </monthlyEir>
}}}

=== Mosquito lifecycle and human-interaction parameters ===

Other per-species mosquito parameters (except non-human-host interaction) are described in the `mosq` element. This has the following attributes:

|| name || type || unit || description ||
|| mosqRestDuration || int || days || Duration of the resting period of the vector ||
|| extrinsicIncubationPeriod || int || days || Extrinsic incubation period (time required for sporozoite development) ||
|| minInfectedThreshold || int || number || Number of infected mosquitos below which the values for proportion of infected mosquitoes and proportion of infectious mosquitoes are set to zero. Used in order to simulate interruption of transmission within the deterministic model. ||
|| mosqLaidEggsSameDayProportion || double || proportion || Proportion of mosquitoes host seeking on same day as ovipositing ||
|| mosqSeekingDuration || double || days || Maximum proportion of day spent host-seeking by the vector ||
|| mosqSurvivalFeedingCycleProbability || double || probability || Probability that the mosquito survives the feeding cycle||
|| mosqProbBiting || double || probability || Probability that the mosquito succesfully bites chosen host ||
|| mosqProbFindRestSite || double || probability || Probability that the mosquito escapes host and finds a resting place after biting ||
|| mosqProbResting || double || probability || Probability of mosquito successfully resting after finding a resting site ||
|| mosqProbOvipositing || double || probability || Probability of a mosquito successfully laying eggs given that it has rested ||
|| mosqHumanBloodIndex || double || proportion || Human blood index: the proportion of resting mosquitoes which fed on human blood during the last feed  ||

== Non-human host parameters ==

Non-human parameters are contianed within two sets of elements (all called `nonHumanHosts`): for vector transmission as a whole, and per species.

The first is a list of sub-elements of the `vector` element (under `entoData`), each containing just the category `name` and the `number` of hosts of that type.

Mosquito-host interaction parameters for these categories are then described within the `anopheles` elements, with the attributes:

|| name || type || unit || description ||
|| name || string || || Identifier for this category of non-human hosts ||
|| mosqRelativeEntoAvailability || double || proportion || Relative availability of nonhuman hosts of type i (to other nonhuman hosts) ||
|| mosqProbBiting || double || probability || Probability of mosquito successfully biting host ||
|| mosqProbFindRestSite || double || probability || Probability that the mosquito escapes host and finds a resting place after biting ||
|| mosqProbResting || double || probability || Probability of mosquito successfully resting after finding a resting site ||